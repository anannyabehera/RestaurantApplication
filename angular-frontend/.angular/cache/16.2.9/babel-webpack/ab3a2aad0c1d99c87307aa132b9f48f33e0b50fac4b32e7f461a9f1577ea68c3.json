{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction LoginComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"Please enter only integers.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"Mobile number should be 10 digits or less.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction onlyInteger(control) {\n  const value = control.value;\n  if (/[^0-9]/.test(value)) {\n    return {\n      nonInteger: true\n    };\n  }\n  return null;\n}\nexport class LoginComponent {\n  constructor(fb, auth) {\n    this.fb = fb;\n    this.auth = auth;\n    this.errors = [];\n    this.maxMobileLength = 10;\n    this.loginForm = this.fb.group({\n      name: ['', Validators.required],\n      mob: ['', [Validators.required, onlyInteger]]\n    });\n  }\n  onMobileInput(event) {\n    const inputElement = event.target;\n    const inputValue = inputElement.value;\n    // Remove non-integer characters\n    const cleanedValue = inputValue.replace(/[^0-9]/g, '');\n    // Limit the input to 10 digits\n    if (cleanedValue.length > this.maxMobileLength) {\n      // Trim the input to the first 10 digits\n      inputElement.value = cleanedValue.slice(0, this.maxMobileLength);\n    }\n  }\n  onSubmit() {\n    console.log('btn works');\n    if (this.loginForm.valid) {\n      // Form is valid, continue with the submission\n      const formData = this.loginForm.value;\n      console.log('Form data:', formData);\n      this.auth.login(formData).subscribe(response => {\n        console.log('Login successful', response);\n        alert('Login successful');\n        location.reload();\n      }, error => {\n        console.error('Login error', error.error);\n        this.errors = error.error;\n      });\n    } else {\n      // Form is not valid, handle accordingly (e.g., display validation error messages).\n    }\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 29,\n    vars: 3,\n    consts: [[1, \"form-box\"], [1, \"form-value\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"inputbox\"], [\"type\", \"id\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\"], [\"type\", \"mob\", \"id\", \"mob\", \"name\", \"mob\", \"required\", \"\", 3, \"input\"], [\"id\", \"error-message\", 2, \"color\", \"red\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"type\", \"submit\"], [1, \"register\"], [\"routerLink\", \"/reg\", \"target\", \"_blank\"], [2, \"color\", \"red\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\")(1, \"title\");\n        i0.ɵɵtext(2, \"Family Resturant\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"body\")(4, \"section\")(5, \"div\", 0)(6, \"div\", 1)(7, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(8, \"h2\");\n        i0.ɵɵtext(9, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"div\", 3);\n        i0.ɵɵelement(12, \"input\", 4);\n        i0.ɵɵelementStart(13, \"label\");\n        i0.ɵɵtext(14, \"Name\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 3)(16, \"input\", 5);\n        i0.ɵɵlistener(\"input\", function LoginComponent_Template_input_input_16_listener($event) {\n          return ctx.onMobileInput($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"label\");\n        i0.ɵɵtext(18, \"Mobile Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, LoginComponent_div_20_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(21, LoginComponent_div_21_Template, 2, 0, \"div\", 7);\n        i0.ɵɵelementStart(22, \"button\", 8);\n        i0.ɵɵtext(23, \"Log In\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 9)(25, \"p\");\n        i0.ɵɵtext(26, \"Don't have an account? \");\n        i0.ɵɵelementStart(27, \"a\", 10);\n        i0.ɵɵtext(28, \"Sign Up\");\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_2_0;\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.loginForm.get(\"mob\")) == null ? null : tmp_1_0.hasError(\"nonInteger\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.loginForm.get(\"mob\")) == null ? null : tmp_2_0.hasError(\"maxlength\"));\n      }\n    },\n    dependencies: [i3.NgIf, i4.RouterLink, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective],\n    styles: [\"*[_ngcontent-%COMP%]{\\n\\n    margin: 0;\\n    \\n    padding: 0;\\n    \\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\n    \\n    }\\n    \\n    section[_ngcontent-%COMP%]{\\n    \\n    display: flex;\\n    \\n    justify-content: center;\\n    \\n    align-items: center;\\n    \\n    min-height: 100vh;\\n    \\n    width: 100%;\\n    \\n    \\n    \\n    \\n\\n    background: url('back6.jpg')no-repeat;\\n    \\n    background-position: center;\\n    \\n    background-size:cover; \\n    \\n    }\\n    \\n    .form-box[_ngcontent-%COMP%]{\\n    \\n    position: relative;\\n    \\n    width: 400px;\\n    \\n    height: 450px;\\n    \\n    background: transparent;\\n    \\n    border:none;\\n    \\n    border-radius: 20px;\\n    \\n    -webkit-backdrop-filter:blur(15px) brightness(80%);\\n    \\n            backdrop-filter:blur(15px) brightness(80%);\\n    \\n    \\n    \\n    display: flex;\\n    \\n    justify-content: center;\\n    \\n    align-items: center;\\n    \\n    }\\n    \\n    h2[_ngcontent-%COMP%]{\\n    \\n    font-size: 2em;\\n    \\n    color:#fff;\\n    \\n    text-align: center;\\n    \\n    }\\n    \\n    .inputbox[_ngcontent-%COMP%]{\\n    \\n    position: relative;\\n    \\n    margin: 30px 0;\\n    \\n    width: 310px;\\n    \\n    border-bottom: 2px solid #fff;\\n    \\n    }\\n    \\n    .inputbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\n    \\n    position: absolute;\\n    \\n    top:50%;\\n    \\n    left: 5px;\\n    \\n    transform: translateY(-50%);\\n    \\n    color: #fff;\\n    \\n    font-size: 1em;\\n    \\n    pointer-events:none;\\n    \\n    transition: .5s;\\n    \\n    }\\n    \\n    \\n\\n    \\n    input[_ngcontent-%COMP%]:focus    ~ label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:valid    ~ label[_ngcontent-%COMP%]{\\n    \\n    top: -5px;\\n    \\n    }\\n    \\n    \\n    \\n    \\n\\n    \\n    .inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    \\n    width: 100%;\\n    \\n    height: 50px;\\n    \\n    background: transparent;\\n    \\n    border: none;\\n    \\n    outline: none;\\n    \\n    font-size: 1em;\\n    \\n    padding: 0 35px 0 5px;\\n    \\n    color: #fff;\\n    \\n    }\\n    \\n    .inputbox[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{\\n    \\n    position: absolute;\\n    \\n    right:8px;\\n    \\n    color: #fff;\\n    \\n    font-size: 1.2em;\\n    \\n    top:20px;\\n    \\n    }\\n    \\n    .forget[_ngcontent-%COMP%]{\\n    \\n    margin: -10px 0 17px;\\n    \\n    font-size: .9em;\\n    \\n    color: #fff;\\n    \\n    display: flex;\\n    \\n    justify-content: space-between;\\n    \\n    }\\n    \\n    .forget[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    \\n    margin-right: 3px;\\n    \\n    }\\n    \\n    .forget[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n    \\n    color: #fff;\\n    \\n    text-decoration: none;\\n    \\n    }\\n    \\n    .forget[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\n    \\n    text-decoration: underline;\\n    \\n    }\\n    \\n    button[_ngcontent-%COMP%]{\\n    \\n    width: 100%;\\n    \\n    height: 40px;\\n    \\n    border-radius: 40px;\\n    \\n    background-color: #fff;\\n    \\n    border:none;\\n    \\n    outline: none;\\n    \\n    cursor: pointer;\\n    \\n    font-size: 1em;\\n    \\n    font-weight: 600;\\n    \\n    }\\n    \\n    .register[_ngcontent-%COMP%]{\\n    \\n    font-size: .9em;\\n    \\n    color: #fff;\\n    \\n    text-align: center;\\n    \\n    margin: 25px 0 10px;\\n    \\n    }\\n    \\n    .register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n    \\n    text-decoration: none;\\n    \\n    color: #fff;\\n    \\n    font-weight: 600;\\n    \\n    }\\n    \\n    .register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{\\n    \\n    text-decoration: underline;\\n    \\n    }\\n    \\n    \\n\\n    @media screen and (max-width:480px) {\\n    .form-box[_ngcontent-%COMP%]{\\n        width: 100%;\\n        border-radius: 0px;\\n    }\\n    }\\n    \\n\\n    \\n    .floating-label-group[_ngcontent-%COMP%] {\\n    position: relative;\\n    margin-top: 15px;\\n    margin-bottom: 25px;\\n    }\\n    \\n    \\n    .floating-label[_ngcontent-%COMP%] {\\n    font-size: 13px;\\n    color: black;\\n    position: absolute;\\n    pointer-events: none;\\n    top: 9px;\\n    left: 12px;\\n    transition: all 0.1s ease;\\n    }\\n    \\n    input[_ngcontent-%COMP%]:focus    ~ .floating-label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not(:focus):valid    ~ .floating-label[_ngcontent-%COMP%] {\\n    top: -30px;\\n    bottom: 0px;\\n    left: 0px;\\n    font-size: 11px;\\n    opacity: 1;\\n    color: #fff;\\n    \\n    }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7SUFFSSxTQUFTOztJQUVULFVBQVU7O0lBRVYsb0dBQW9HOztJQUVwRzs7SUFFQTs7SUFFQSxhQUFhOztJQUViLHVCQUF1Qjs7SUFFdkIsbUJBQW1COztJQUVuQixpQkFBaUI7O0lBRWpCLFdBQVc7Ozs7SUFJWCw0RUFBNEU7SUFDNUUscUNBQWtEOztJQUVsRCwyQkFBMkI7O0lBRTNCLHFCQUFxQjs7SUFFckI7O0lBRUE7O0lBRUEsa0JBQWtCOztJQUVsQixZQUFZOztJQUVaLGFBQWE7O0lBRWIsdUJBQXVCOztJQUV2QixXQUFXOztJQUVYLG1CQUFtQjs7SUFFbkIsa0RBQTBDOztZQUExQywwQ0FBMEM7Ozs7SUFJMUMsYUFBYTs7SUFFYix1QkFBdUI7O0lBRXZCLG1CQUFtQjs7SUFFbkI7O0lBRUE7O0lBRUEsY0FBYzs7SUFFZCxVQUFVOztJQUVWLGtCQUFrQjs7SUFFbEI7O0lBRUE7O0lBRUEsa0JBQWtCOztJQUVsQixjQUFjOztJQUVkLFlBQVk7O0lBRVosNkJBQTZCOztJQUU3Qjs7SUFFQTs7SUFFQSxrQkFBa0I7O0lBRWxCLE9BQU87O0lBRVAsU0FBUzs7SUFFVCwyQkFBMkI7O0lBRTNCLFdBQVc7O0lBRVgsY0FBYzs7SUFFZCxtQkFBbUI7O0lBRW5CLGVBQWU7O0lBRWY7O0lBRUEsc0JBQXNCOztJQUV0Qjs7OztJQUlBLFNBQVM7O0lBRVQ7Ozs7SUFJQSxrQkFBa0I7O0lBRWxCOztJQUVBLFdBQVc7O0lBRVgsWUFBWTs7SUFFWix1QkFBdUI7O0lBRXZCLFlBQVk7O0lBRVosYUFBYTs7SUFFYixjQUFjOztJQUVkLHFCQUFxQjs7SUFFckIsV0FBVzs7SUFFWDs7SUFFQTs7SUFFQSxrQkFBa0I7O0lBRWxCLFNBQVM7O0lBRVQsV0FBVzs7SUFFWCxnQkFBZ0I7O0lBRWhCLFFBQVE7O0lBRVI7O0lBRUE7O0lBRUEsb0JBQW9COztJQUVwQixlQUFlOztJQUVmLFdBQVc7O0lBRVgsYUFBYTs7SUFFYiw4QkFBOEI7O0lBRTlCOztJQUVBOztJQUVBLGlCQUFpQjs7SUFFakI7O0lBRUE7O0lBRUEsV0FBVzs7SUFFWCxxQkFBcUI7O0lBRXJCOztJQUVBOztJQUVBLDBCQUEwQjs7SUFFMUI7O0lBRUE7O0lBRUEsV0FBVzs7SUFFWCxZQUFZOztJQUVaLG1CQUFtQjs7SUFFbkIsc0JBQXNCOztJQUV0QixXQUFXOztJQUVYLGFBQWE7O0lBRWIsZUFBZTs7SUFFZixjQUFjOztJQUVkLGdCQUFnQjs7SUFFaEI7O0lBRUE7O0lBRUEsZUFBZTs7SUFFZixXQUFXOztJQUVYLGtCQUFrQjs7SUFFbEIsbUJBQW1COztJQUVuQjs7SUFFQTs7SUFFQSxxQkFBcUI7O0lBRXJCLFdBQVc7O0lBRVgsZ0JBQWdCOztJQUVoQjs7SUFFQTs7SUFFQSwwQkFBMEI7O0lBRTFCOztJQUVBLHlCQUF5QjtJQUN6QjtJQUNBO1FBQ0ksV0FBVztRQUNYLGtCQUFrQjtJQUN0QjtJQUNBO0lBQ0EsdUJBQXVCOztJQUV2QjtJQUNBLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25COzs7SUFHQTtJQUNBLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLG9CQUFvQjtJQUNwQixRQUFRO0lBQ1IsVUFBVTtJQUNWLHlCQUF5QjtJQUN6Qjs7SUFFQTs7SUFFQSxVQUFVO0lBQ1YsV0FBVztJQUNYLFNBQVM7SUFDVCxlQUFlO0lBQ2YsVUFBVTtJQUNWLFdBQVc7O0lBRVgiLCJzb3VyY2VzQ29udGVudCI6WyIqe1xyXG5cclxuICAgIG1hcmdpbjogMDtcclxuICAgIFxyXG4gICAgcGFkZGluZzogMDtcclxuICAgIFxyXG4gICAgZm9udC1mYW1pbHk6J1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZWN0aW9ue1xyXG4gICAgXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIFxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIFxyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICBcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgLyogYmFja2dyb3VuZDogdXJsKFwiaHR0cHM6Ly9pLnBvc3RpbWcuY2MvU3hCMDdHalcvYmVhY2gtYmcuanBnXCIpbm8tcmVwZWF0OyAqL1xyXG4gICAgYmFja2dyb3VuZDogdXJsKFwiLi4vLi4vYXNzZXRzL2JhY2s2LmpwZ1wiKW5vLXJlcGVhdDtcclxuICAgIFxyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgXHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6Y292ZXI7IFxyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5mb3JtLWJveHtcclxuICAgIFxyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgXHJcbiAgICB3aWR0aDogNDAwcHg7XHJcbiAgICBcclxuICAgIGhlaWdodDogNDUwcHg7XHJcbiAgICBcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgXHJcbiAgICBib3JkZXI6bm9uZTtcclxuICAgIFxyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgIFxyXG4gICAgYmFja2Ryb3AtZmlsdGVyOmJsdXIoMTVweCkgYnJpZ2h0bmVzcyg4MCUpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIFxyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgaDJ7XHJcbiAgICBcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG4gICAgXHJcbiAgICBjb2xvcjojZmZmO1xyXG4gICAgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgLmlucHV0Ym94e1xyXG4gICAgXHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBcclxuICAgIG1hcmdpbjogMzBweCAwO1xyXG4gICAgXHJcbiAgICB3aWR0aDogMzEwcHg7XHJcbiAgICBcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmZmO1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5pbnB1dGJveCBsYWJlbHtcclxuICAgIFxyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgXHJcbiAgICB0b3A6NTAlO1xyXG4gICAgXHJcbiAgICBsZWZ0OiA1cHg7XHJcbiAgICBcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgIFxyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgXHJcbiAgICBwb2ludGVyLWV2ZW50czpub25lO1xyXG4gICAgXHJcbiAgICB0cmFuc2l0aW9uOiAuNXM7XHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyogYW5pbWF0aW9uczogc3RhcnQgKi9cclxuICAgIFxyXG4gICAgaW5wdXQ6Zm9jdXMgfmxhYmVsLFxyXG4gICAgXHJcbiAgICBpbnB1dDp2YWxpZCB+bGFiZWx7XHJcbiAgICBcclxuICAgIHRvcDogLTVweDtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgLyogYW5pbWF0aW9uOmVuZCAqL1xyXG4gICAgXHJcbiAgICAuaW5wdXRib3ggaW5wdXR7XHJcbiAgICBcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgXHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgXHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgXHJcbiAgICBwYWRkaW5nOiAwIDM1cHggMCA1cHg7XHJcbiAgICBcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5pbnB1dGJveCBpb24taWNvbntcclxuICAgIFxyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgXHJcbiAgICByaWdodDo4cHg7XHJcbiAgICBcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgXHJcbiAgICBmb250LXNpemU6IDEuMmVtO1xyXG4gICAgXHJcbiAgICB0b3A6MjBweDtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuZm9yZ2V0e1xyXG4gICAgXHJcbiAgICBtYXJnaW46IC0xMHB4IDAgMTdweDtcclxuICAgIFxyXG4gICAgZm9udC1zaXplOiAuOWVtO1xyXG4gICAgXHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIFxyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5mb3JnZXQgbGFiZWwgaW5wdXR7XHJcbiAgICBcclxuICAgIG1hcmdpbi1yaWdodDogM3B4O1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5mb3JnZXQgYXtcclxuICAgIFxyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuZm9yZ2V0IGE6aG92ZXJ7XHJcbiAgICBcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGJ1dHRvbntcclxuICAgIFxyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIFxyXG4gICAgYm9yZGVyLXJhZGl1czogNDBweDtcclxuICAgIFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIFxyXG4gICAgYm9yZGVyOm5vbmU7XHJcbiAgICBcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIFxyXG4gICAgZm9udC1zaXplOiAxZW07XHJcbiAgICBcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgLnJlZ2lzdGVye1xyXG4gICAgXHJcbiAgICBmb250LXNpemU6IC45ZW07XHJcbiAgICBcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBcclxuICAgIG1hcmdpbjogMjVweCAwIDEwcHg7XHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgLnJlZ2lzdGVyIHAgYXtcclxuICAgIFxyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgXHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIFxyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAucmVnaXN0ZXIgcCBhOmhvdmVye1xyXG4gICAgXHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKiBSZXNwb25zaXZlbmVzczpTdGFydCAqL1xyXG4gICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCkge1xyXG4gICAgLmZvcm0tYm94e1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDBweDtcclxuICAgIH1cclxuICAgIH1cclxuICAgIC8qIFJlc3BvbnNpdmVuZXNzOkVuZCAqL1xyXG4gICAgXHJcbiAgICAuZmxvYXRpbmctbGFiZWwtZ3JvdXAge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDI1cHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLmZsb2F0aW5nLWxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgdG9wOiA5cHg7XHJcbiAgICBsZWZ0OiAxMnB4O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMXMgZWFzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5wdXQ6Zm9jdXMgfiAuZmxvYXRpbmctbGFiZWwsXHJcbiAgICBpbnB1dDpub3QoOmZvY3VzKTp2YWxpZCB+IC5mbG9hdGluZy1sYWJlbCB7XHJcbiAgICB0b3A6IC0zMHB4O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBcclxuICAgIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","onlyInteger","control","value","test","nonInteger","LoginComponent","constructor","fb","auth","errors","maxMobileLength","loginForm","group","name","required","mob","onMobileInput","event","inputElement","target","inputValue","cleanedValue","replace","length","slice","onSubmit","console","log","valid","formData","login","subscribe","response","alert","location","reload","error","_","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_7_listener","ɵɵelement","LoginComponent_Template_input_input_16_listener","$event","ɵɵtemplate","LoginComponent_div_20_Template","LoginComponent_div_21_Template","ɵɵadvance","ɵɵproperty","tmp_1_0","get","hasError","tmp_2_0"],"sources":["E:\\ashok sir\\ResturantAppAngular\\ResturantApp\\src\\app\\login\\login.component.ts","E:\\ashok sir\\ResturantAppAngular\\ResturantApp\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { AuthService } from '../services/auth.service';\nfunction onlyInteger(control: AbstractControl): ValidationErrors | null {\n  const value = control.value;\n  if (/[^0-9]/.test(value)) {\n    return { nonInteger: true };\n  }\n  return null;\n}\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  loginForm: FormGroup;\n  errors: any[] = [];\n  maxMobileLength = 10;\n  constructor(private fb: FormBuilder, private auth:AuthService) {\n    this.loginForm = this.fb.group({\n      name: ['', Validators.required],\n      mob: ['', [Validators.required, onlyInteger]],\n    });\n  }\n  onMobileInput(event: Event) {\n    const inputElement = event.target as HTMLInputElement;\n    const inputValue = inputElement.value;\n\n    // Remove non-integer characters\n    const cleanedValue = inputValue.replace(/[^0-9]/g, '');\n\n    // Limit the input to 10 digits\n    if (cleanedValue.length > this.maxMobileLength) {\n      // Trim the input to the first 10 digits\n      inputElement.value = cleanedValue.slice(0, this.maxMobileLength);\n    }\n  }\n  onSubmit() {\n    console.log('btn works');\n    \n    if (this.loginForm.valid) {\n      // Form is valid, continue with the submission\n      const formData = this.loginForm.value;\n      console.log('Form data:', formData);\n      this.auth.login(formData).subscribe(\n        (response) => {\n          console.log('Login successful', response);\n          alert('Login successful');\n          location.reload();\n        },\n        (error) => {\n          console.error('Login error', error.error);\n          this.errors = error.error;\n        }\n      );\n    } else {\n      // Form is not valid, handle accordingly (e.g., display validation error messages).\n    }\n  }\n  \n}\n","<!-- <p>login works!</p> -->\n\n<header>\n    <title>Family Resturant</title>\n    <!-- <link rel=\"stylesheet\" href=\"./asset/css/style.css\"> -->\n</header>\n\n<body>\n\n    <section>\n\n        <div class=\"form-box\">\n\n            <div class=\"form-value\">\n\n                <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\n\n                    <h2>Login</h2><br>\n\n                    <div class=\"inputbox\">\n\n\n                        <input type=\"id\" id=\"name\" name=\"name\" required>\n\n                        <label>Name</label>\n\n                    </div>\n\n                    <div class=\"inputbox\">\n\n\n                        <input type=\"mob\" id=\"mob\" name=\"mob\" required (input)=\"onMobileInput($event)\">\n                        <label>Mobile Number</label>\n                        <div id=\"error-message\" style=\"color: red;\"></div>\n                    </div>\n\n                    <div *ngIf=\"loginForm.get('mob')?.hasError('nonInteger')\" style=\"color: red;\">Please enter only integers.</div>\n  <div *ngIf=\"loginForm.get('mob')?.hasError('maxlength')\" style=\"color: red;\">Mobile number should be 10 digits or less.</div>\n\n                    <button type=\"submit\" >Log In</button>\n\n                    <div class=\"register\">\n\n                        <p>Don't have an account? <a routerLink=\"/reg\" target=\"_blank\">Sign Up</a></p>\n\n                    </div>\n\n                </form>\n\n            </div>\n\n        </div>\n\n    </section>\n\n    <!-- ion-icon installation: Start -->\n\n    <!-- <script type=\"module\" src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js\"></script> -->\n    <script type=\"module\" src=\"./asset/script/ion-icons.esm.js\"></script>\n    <!-- <script nomodule src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js\"></script> -->\n    <script nomodule src=\"./asset/script/ion.icons.js\"></script>\n    <!--ion-icon installation: End-->\n<!-- <script src=\"./asset/script/customScript.js\"></script> -->\n</body>\n\n"],"mappings":"AACA,SAAoEA,UAAU,QAAQ,gBAAgB;;;;;;;;ICmClFC,EAAA,CAAAC,cAAA,cAA8E;IAAAD,EAAA,CAAAE,MAAA,kCAA2B;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IACjIH,EAAA,CAAAC,cAAA,cAA6E;IAAAD,EAAA,CAAAE,MAAA,iDAA0C;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;ADlC/H,SAASC,WAAWA,CAACC,OAAwB;EAC3C,MAAMC,KAAK,GAAGD,OAAO,CAACC,KAAK;EAC3B,IAAI,QAAQ,CAACC,IAAI,CAACD,KAAK,CAAC,EAAE;IACxB,OAAO;MAAEE,UAAU,EAAE;IAAI,CAAE;;EAE7B,OAAO,IAAI;AACb;AAMA,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,EAAe,EAAUC,IAAgB;IAAzC,KAAAD,EAAE,GAAFA,EAAE;IAAuB,KAAAC,IAAI,GAAJA,IAAI;IAFjD,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,eAAe,GAAG,EAAE;IAElB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MAC7BC,IAAI,EAAE,CAAC,EAAE,EAAElB,UAAU,CAACmB,QAAQ,CAAC;MAC/BC,GAAG,EAAE,CAAC,EAAE,EAAE,CAACpB,UAAU,CAACmB,QAAQ,EAAEd,WAAW,CAAC;KAC7C,CAAC;EACJ;EACAgB,aAAaA,CAACC,KAAY;IACxB,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAA0B;IACrD,MAAMC,UAAU,GAAGF,YAAY,CAAChB,KAAK;IAErC;IACA,MAAMmB,YAAY,GAAGD,UAAU,CAACE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IAEtD;IACA,IAAID,YAAY,CAACE,MAAM,GAAG,IAAI,CAACb,eAAe,EAAE;MAC9C;MACAQ,YAAY,CAAChB,KAAK,GAAGmB,YAAY,CAACG,KAAK,CAAC,CAAC,EAAE,IAAI,CAACd,eAAe,CAAC;;EAEpE;EACAe,QAAQA,CAAA;IACNC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAExB,IAAI,IAAI,CAAChB,SAAS,CAACiB,KAAK,EAAE;MACxB;MACA,MAAMC,QAAQ,GAAG,IAAI,CAAClB,SAAS,CAACT,KAAK;MACrCwB,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEE,QAAQ,CAAC;MACnC,IAAI,CAACrB,IAAI,CAACsB,KAAK,CAACD,QAAQ,CAAC,CAACE,SAAS,CAChCC,QAAQ,IAAI;QACXN,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEK,QAAQ,CAAC;QACzCC,KAAK,CAAC,kBAAkB,CAAC;QACzBC,QAAQ,CAACC,MAAM,EAAE;MACnB,CAAC,EACAC,KAAK,IAAI;QACRV,OAAO,CAACU,KAAK,CAAC,aAAa,EAAEA,KAAK,CAACA,KAAK,CAAC;QACzC,IAAI,CAAC3B,MAAM,GAAG2B,KAAK,CAACA,KAAK;MAC3B,CAAC,CACF;KACF,MAAM;MACL;IAAA;EAEJ;EAAC,QAAAC,CAAA,G;qBA5CUhC,cAAc,EAAAT,EAAA,CAAA0C,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAA5C,EAAA,CAAA0C,iBAAA,CAAAG,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAdtC,cAAc;IAAAuC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCb3BtD,EAAA,CAAAC,cAAA,aAAQ;QACGD,EAAA,CAAAE,MAAA,uBAAgB;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QAInCH,EAAA,CAAAC,cAAA,WAAM;QAQwCD,EAAA,CAAAwD,UAAA,sBAAAC,iDAAA;UAAA,OAAYF,GAAA,CAAA1B,QAAA,EAAU;QAAA,EAAC;QAEjD7B,EAAA,CAAAC,cAAA,SAAI;QAAAD,EAAA,CAAAE,MAAA,YAAK;QAAAF,EAAA,CAAAG,YAAA,EAAK;QAAAH,EAAA,CAAA0D,SAAA,UAAI;QAElB1D,EAAA,CAAAC,cAAA,cAAsB;QAGlBD,EAAA,CAAA0D,SAAA,gBAAgD;QAEhD1D,EAAA,CAAAC,cAAA,aAAO;QAAAD,EAAA,CAAAE,MAAA,YAAI;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QAIvBH,EAAA,CAAAC,cAAA,cAAsB;QAG6BD,EAAA,CAAAwD,UAAA,mBAAAG,gDAAAC,MAAA;UAAA,OAASL,GAAA,CAAAnC,aAAA,CAAAwC,MAAA,CAAqB;QAAA,EAAC;QAA9E5D,EAAA,CAAAG,YAAA,EAA+E;QAC/EH,EAAA,CAAAC,cAAA,aAAO;QAAAD,EAAA,CAAAE,MAAA,qBAAa;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QAC5BH,EAAA,CAAA0D,SAAA,cAAkD;QACtD1D,EAAA,CAAAG,YAAA,EAAM;QAENH,EAAA,CAAA6D,UAAA,KAAAC,8BAAA,iBAA+G;QACjI9D,EAAA,CAAA6D,UAAA,KAAAE,8BAAA,iBAA6H;QAE3G/D,EAAA,CAAAC,cAAA,iBAAuB;QAAAD,EAAA,CAAAE,MAAA,cAAM;QAAAF,EAAA,CAAAG,YAAA,EAAS;QAEtCH,EAAA,CAAAC,cAAA,cAAsB;QAEfD,EAAA,CAAAE,MAAA,+BAAuB;QAAAF,EAAA,CAAAC,cAAA,aAAqC;QAAAD,EAAA,CAAAE,MAAA,eAAO;QAAAF,EAAA,CAAAG,YAAA,EAAI;;;;;QA5B5EH,EAAA,CAAAgE,SAAA,GAAuB;QAAvBhE,EAAA,CAAAiE,UAAA,cAAAV,GAAA,CAAAxC,SAAA,CAAuB;QAqBnBf,EAAA,CAAAgE,SAAA,IAAkD;QAAlDhE,EAAA,CAAAiE,UAAA,UAAAC,OAAA,GAAAX,GAAA,CAAAxC,SAAA,CAAAoD,GAAA,0BAAAD,OAAA,CAAAE,QAAA,eAAkD;QACpEpE,EAAA,CAAAgE,SAAA,GAAiD;QAAjDhE,EAAA,CAAAiE,UAAA,UAAAI,OAAA,GAAAd,GAAA,CAAAxC,SAAA,CAAAoD,GAAA,0BAAAE,OAAA,CAAAD,QAAA,cAAiD"},"metadata":{},"sourceType":"module","externalDependencies":[]}